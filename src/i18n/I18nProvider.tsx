import React, { createContext, useCallback, useContext, useEffect, useMemo, useState } from 'react';

export type LangCode = 'en' | 'es' | 'fr' | 'de' | 'hi' | 'bn';

type Resources = Record<string, Record<string, string>>;

type I18nContextType = {
  lang: LangCode;
  setLang: (l: LangCode) => void;
  t: (key: string, vars?: Record<string, string | number>) => string;
  resources: Resources;
};

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export const languageLabels: Record<LangCode, string> = {
  en: 'English',
  es: 'Español',
  fr: 'Français',
  de: 'Deutsch',
  hi: 'हिन्दी',
  bn: 'বাংলা',
};

const detectDefaultLang = (): LangCode => {
  const stored = typeof window !== 'undefined' ? (localStorage.getItem('lang') as LangCode | null) : null;
  if (stored && (Object.keys(languageLabels) as LangCode[]).includes(stored)) return stored;
  const nav = typeof navigator !== 'undefined' ? navigator.language : 'en';
  const code = nav.split('-')[0] as LangCode;
  if ((Object.keys(languageLabels) as LangCode[]).includes(code)) return code;
  return 'en';
};

const interpolate = (str: string, vars?: Record<string, string | number>) => {
  if (!vars) return str;
  return str.replace(/\{(.*?)\}/g, (_, k) => (vars[k] ?? `{${k}}`).toString());
};

const resources: Resources = {
  en: {
    'app.tagline': 'Connect your emotions to music',
    'legal.disclaimer': 'By continuing, you agree to our Terms of Service and Privacy Policy',

    // Navigation / Common
    'nav.app': 'App',
    'nav.features': 'Features',
    'nav.how': 'How it Works',
    'nav.profile': 'Profile',
    'nav.logout': 'Logout',
    'nav.learn_more': 'Learn More',
    'nav.start_ai': 'Start AI Detection',

    // Index / Home page
    'index.hero.title': 'Discover Your Emotional Journey',
    'index.hero.subtitle': 'Experience AI-powered emotion detection using your webcam, or manually select your mood to get personalized music and visual experiences.',
    'index.aura.title': 'Your Aura',
    'index.aura.reflect': 'Reflecting your current mood:',
    'index.aura.desc': 'Your aura changes color and intensity based on your detected emotions, creating a personalized visual representation of your inner state.',

    // Features section
    'features.title': 'Powerful Features',
    'features.ai.title': 'AI Emotion Detection',
    'features.ai.desc': 'Advanced facial recognition technology analyzes your expressions in real-time, or choose from manual mood buttons for instant recommendations.',
    'features.playlists.title': 'Personalized Playlists',
    'features.playlists.desc': 'Get music recommendations tailored to your current mood and save them directly to your Spotify account.',
    'features.aura.title': 'Dynamic Aura Visualization',
    'features.aura.desc': 'Watch your aura change colors and patterns based on your emotions, creating a beautiful visual representation.',

    // How it works
    'how.title': 'How It Works',
    'how.step1.title': 'Enable AI Detection',
    'how.step1.desc': 'Allow camera access to start real-time emotion detection. Our AI analyzes your facial expressions while keeping your privacy secure with local processing.',
    'how.step2.title': 'Emotion Analysis',
    'how.step2.desc': 'Our AI processes your facial expressions and identifies emotions like happiness, sadness, surprise, and more with remarkable accuracy in real-time.',
    'how.step3.title': 'Personalized Experience',
    'how.step3.desc': 'Watch your aura transform in real-time and receive music recommendations that match your detected emotions. Capture photos of your emotional moments.',

    // Footer
    'footer.powered': 'Powered by AI emotion detection and Spotify integration • AuraSync',

    // Emotion Detector
    'emotion.detector.title': 'AI Emotion Detection',
    'emotion.loading_models': 'Loading AI models...',
    'emotion.starting_camera': 'Starting camera...',
    'emotion.preparing': 'Preparing AI emotion detection',
    'emotion.camera_issue': 'Camera Access Issue',
    'emotion.try_again': 'Try Again',
    'emotion.ready': 'AI Emotion Detection Ready',
    'emotion.ready_sub': 'Start camera to detect emotions and get personalized music',
    'emotion.ai_detecting': 'AI Detecting...',
    'emotion.loading_ai': 'Loading AI...',
    'emotion.ai_ready': 'AI Ready',
    'emotion.starting': 'Starting...',
    'emotion.stop_camera': 'Stop Camera',
    'emotion.start_camera': 'Start Camera',
    'emotion.detecting': 'Detecting...',
    'emotion.resume_detection': 'Resume Detection',
    'emotion.detect_emotion': 'Detect Emotion',
    'emotion.models_ready': 'AI Models Ready',
    'emotion.models_loading': 'Loading AI Models...',
    'emotion.analyzing': 'Analyzing facial expressions...',
    'emotion.locked': 'Emotion Locked',
    'emotion.manual.title': 'Manual Mood Selection',
    'emotion.manual.subtitle': 'Click an emotion to instantly get music recommendations',
    'emotion.no_face': 'No Face Detected',
    'emotion.generating_music': 'Generating personalized music...',
    'emotion.updating_aura': 'Updating your aura visualization',
    'emotion.detected_label': 'Detected Emotion',

    // Emotion labels
    'emotions.happy': 'Happy',
    'emotions.sad': 'Sad',
    'emotions.neutral': 'Neutral',
    'emotions.surprised': 'Surprised',
    'emotions.angry': 'Angry',

    // Profile page
    'profile.back': 'Back',
    'profile.title': 'Profile & Settings',
    'profile.subtitle': 'Manage your account and music preferences',
    'profile.tabs.settings': 'Settings',
    'profile.tabs.history': 'Emotion History',
    'profile.section.profile_info': 'Profile Information',
    'profile.email': 'Email',
    'profile.member_since': 'Member since',
    'profile.display_name': 'Display Name',
    'profile.display_name_placeholder': 'Enter your display name',
    'profile.save': 'Save',
    'profile.saving': 'Saving...',
    'profile.spotify.section_title': 'Spotify Integration',
    'profile.connected': 'Connected',
    'profile.not_connected': 'Not Connected',
    'profile.spotify.connected_msg': 'Your Spotify account is connected! You can now save playlists and get personalized recommendations.',
    'profile.spotify.user_id': 'Spotify User ID',
    'profile.disconnect': 'Disconnect',
    'profile.spotify.connect_msg': 'Connect your Spotify account to save playlists, get personalized recommendations, and sync your music preferences.',
    'profile.spotify.connect_button': 'Connect Spotify Account',
    'profile.spotify.benefits_title': "By connecting Spotify, you'll be able to:",
    'profile.spotify.benefit.save': 'Save AI-generated playlists to your Spotify library',
    'profile.spotify.benefit.reco': 'Get recommendations based on your music taste',
    'profile.spotify.benefit.access': 'Access your existing playlists for mood analysis',
    'profile.quick_stats': 'Quick Stats',
    'profile.account_status': 'Account Status',
    'profile.active': 'Active',
    'profile.music_service': 'Music Service',
    'profile.profile_complete': 'Profile Complete',
    'profile.help.title': 'Need Help?',
    'profile.help.desc': 'Having trouble with your account or Spotify integration?',
    'profile.help.center': 'View Help Center',

    // Auth (existing)
    'tabs.signin': 'Sign In',
    'tabs.signup': 'Sign Up',
    'tabs.changepw': 'Change Password',

    'labels.email': 'Email',
    'labels.password': 'Password',
    'labels.display_name': 'Display Name',
    'labels.new_password': 'New Password',
    'labels.confirm_new_password': 'Confirm New Password',

    'placeholders.email': 'your@email.com',
    'placeholders.example_email': 'you@example.com',
    'placeholders.name': 'Your Name',

    'buttons.signin': 'Sign In',
    'buttons.signing_in': 'Signing in...',
    'buttons.create_account': 'Create Account',
    'buttons.creating_account': 'Creating account...',
    'buttons.send_reset_link': 'Send Reset Link',
    'buttons.update_password': 'Update Password',

    'info.email_one_account': 'Each email address can only be used for one account.',
    'info.confirmation_email': "You'll receive a confirmation email to activate your account.",
    'info.reset_email_note': "We'll email you a secure link to confirm your identity.",

    'toasts.invalid_credentials.title': 'Invalid credentials',
    'toasts.invalid_credentials.desc': "Please check your email and password. If you just signed up, make sure you've confirmed your email address.",
    'toasts.email_not_confirmed.title': 'Email not confirmed',
    'toasts.email_not_confirmed.desc': 'Please check your email and click the confirmation link before signing in.',
    'toasts.account_not_found.title': 'Account not found',
    'toasts.account_not_found.desc': 'No account found with this email address. Please sign up first.',
    'toasts.signin_failed.title': 'Sign in failed',
    'toasts.signup_failed.title': 'Sign up failed',
    'toasts.welcome_back': 'Welcome back!',
    'toasts.password_too_short.title': 'Password too short',
    'toasts.password_too_short.desc': 'Password must be at least 6 characters long.',
    'toasts.password_too_weak.title': 'Password too weak',
    'toasts.password_too_weak.desc': 'Use at least 6 characters.',
    'toasts.invalid_email.title': 'Invalid email',
    'toasts.invalid_email.desc': 'Please enter a valid email address.',
    'toasts.unexpected_error.title': 'An unexpected error occurred',
    'toasts.unexpected_error.desc': 'Please try again later.',
    'toasts.account_exists.title': 'Account Already Exists',
    'toasts.account_exists.desc': 'An account with this email already exists. Please sign in instead.',
    'toasts.account_created.title': 'Account created!',
    'toasts.account_created.desc': 'Please check your email and click the confirmation link to activate your account.',
    'toasts.reset_failed.title': 'Failed to send reset email',
    'toasts.reset_sent.title': 'Password reset email sent',
    'toasts.reset_sent.desc': 'Check your inbox and follow the confirmation link.',
    'toasts.weak_password.title': 'Weak password',
    'toasts.weak_password.desc': 'Use at least 6 characters.',
    'toasts.passwords_no_match': "Passwords don't match",
    'toasts.update_failed.title': 'Failed to update password',
    'toasts.update_success': 'Password changed successfully',

    'banners.account_exists.title': 'Account Already Exists',
    'banners.success.title': 'Success',

    'messages.account_exists_detail': 'An account with this email address already exists. Please sign in instead.',
    'messages.check_email_detail': 'Please check your email and click the confirmation link to activate your account.',

    // Profile toasts
    'toasts.profile.load_failed': 'Failed to load profile',
    'toasts.profile.create_failed': 'Failed to create profile',
    'toasts.profile.save_failed': 'Failed to save profile',
    'toasts.profile.save_success': 'Profile updated successfully',
    'toasts.spotify.connect_failed.title': 'Failed to start Spotify connection',
    'toasts.spotify.connect_failed.desc': 'Please check your configuration.',
    'toasts.spotify.disconnect_failed': 'Failed to disconnect Spotify',
    'toasts.spotify.disconnect_success': 'Spotify disconnected successfully',
  },
  es: {
    'app.tagline': 'Conecta tus emociones con la música',
    'legal.disclaimer': 'Al continuar, aceptas nuestros Términos de servicio y Política de privacidad',

    'nav.app': 'Aplicación',
    'nav.features': 'Funciones',
    'nav.how': 'Cómo funciona',
    'nav.profile': 'Perfil',
    'nav.logout': 'Cerrar sesión',
    'nav.learn_more': 'Saber más',
    'nav.start_ai': 'Iniciar detección IA',

    'index.hero.title': 'Descubre tu viaje emocional',
    'index.hero.subtitle': 'Usa detección de emociones con IA mediante tu cámara, o selecciona tu estado de ánimo para obtener música y experiencias visuales personalizadas.',
    'index.aura.title': 'Tu Aura',
    'index.aura.reflect': 'Reflejando tu estado de ánimo actual:',
    'index.aura.desc': 'Tu aura cambia de color e intensidad según tus emociones detectadas, creando una representación visual personalizada de tu estado interior.',

    'features.title': 'Funciones potentes',
    'features.ai.title': 'Detección de emociones con IA',
    'features.ai.desc': 'Reconocimiento facial avanzado analiza tus expresiones en tiempo real, o elige estados de ánimo manuales para recomendaciones instantáneas.',
    'features.playlists.title': 'Listas personalizadas',
    'features.playlists.desc': 'Obtén recomendaciones de música adaptadas a tu estado de ánimo y guárdalas en tu cuenta de Spotify.',
    'features.aura.title': 'Visualización de aura dinámica',
    'features.aura.desc': 'Mira cómo tu aura cambia de colores y patrones según tus emociones, creando una representación visual hermosa.',

    'how.title': 'Cómo funciona',
    'how.step1.title': 'Habilita la detección IA',
    'how.step1.desc': 'Permite el acceso a la cámara para iniciar la detección de emociones en tiempo real. La IA analiza tus expresiones con privacidad mediante procesamiento local.',
    'how.step2.title': 'Análisis de emociones',
    'how.step2.desc': 'La IA identifica emociones como alegría, tristeza, sorpresa y más con gran precisión en tiempo real.',
    'how.step3.title': 'Experiencia personalizada',
    'how.step3.desc': 'Observa tu aura transformarse y recibe música según tus emociones detectadas. Captura momentos emocionales.',

    'footer.powered': 'Impulsado por detección de emociones con IA e integración con Spotify • AuraSync',

    'emotion.detector.title': 'Detección de emociones con IA',
    'emotion.loading_models': 'Cargando modelos de IA...',
    'emotion.starting_camera': 'Iniciando cámara...',
    'emotion.preparing': 'Preparando detección de emociones con IA',
    'emotion.camera_issue': 'Problema de acceso a la cámara',
    'emotion.try_again': 'Intentar de nuevo',
    'emotion.ready': 'Detección de emociones lista',
    'emotion.ready_sub': 'Inicia la cámara para detectar emociones y obtener música personalizada',
    'emotion.ai_detecting': 'IA detectando...',
    'emotion.loading_ai': 'Cargando IA...',
    'emotion.ai_ready': 'IA lista',
    'emotion.starting': 'Iniciando...',
    'emotion.stop_camera': 'Detener cámara',
    'emotion.start_camera': 'Iniciar cámara',
    'emotion.detecting': 'Detectando...',
    'emotion.resume_detection': 'Reanudar detección',
    'emotion.detect_emotion': 'Detectar emoción',
    'emotion.models_ready': 'Modelos de IA listos',
    'emotion.models_loading': 'Cargando modelos de IA...',
    'emotion.analyzing': 'Analizando expresiones faciales...',
    'emotion.locked': 'Emoción bloqueada',
    'emotion.manual.title': 'Selección manual de estado de ánimo',
    'emotion.manual.subtitle': 'Haz clic en una emoción para obtener recomendaciones al instante',
    'emotion.no_face': 'No se detectó rostro',
    'emotion.generating_music': 'Generando música personalizada...',
    'emotion.updating_aura': 'Actualizando tu visualización de aura',
    'emotion.detected_label': 'Emoción detectada',

    'emotions.happy': 'Feliz',
    'emotions.sad': 'Triste',
    'emotions.neutral': 'Neutral',
    'emotions.surprised': 'Sorprendido',
    'emotions.angry': 'Enojado',

    'profile.back': 'Atrás',
    'profile.title': 'Perfil y configuración',
    'profile.subtitle': 'Gestiona tu cuenta y preferencias de música',
    'profile.tabs.settings': 'Configuración',
    'profile.tabs.history': 'Historial de emociones',
    'profile.section.profile_info': 'Información del perfil',
    'profile.email': 'Correo electrónico',
    'profile.member_since': 'Miembro desde',
    'profile.display_name': 'Nombre para mostrar',
    'profile.display_name_placeholder': 'Ingresa tu nombre para mostrar',
    'profile.save': 'Guardar',
    'profile.saving': 'Guardando...',
    'profile.spotify.section_title': 'Integración con Spotify',
    'profile.connected': 'Conectado',
    'profile.not_connected': 'No conectado',
    'profile.spotify.connected_msg': '¡Tu cuenta de Spotify está conectada! Ahora puedes guardar listas y obtener recomendaciones.',
    'profile.spotify.user_id': 'ID de usuario de Spotify',
    'profile.disconnect': 'Desconectar',
    'profile.spotify.connect_msg': 'Conecta tu cuenta de Spotify para guardar listas, obtener recomendaciones y sincronizar preferencias.',
    'profile.spotify.connect_button': 'Conectar cuenta de Spotify',
    'profile.spotify.benefits_title': 'Al conectar Spotify podrás:',
    'profile.spotify.benefit.save': 'Guardar listas generadas por IA en tu biblioteca',
    'profile.spotify.benefit.reco': 'Obtener recomendaciones según tus gustos',
    'profile.spotify.benefit.access': 'Acceder a tus listas existentes para análisis',
    'profile.quick_stats': 'Estadísticas rápidas',
    'profile.account_status': 'Estado de la cuenta',
    'profile.active': 'Activa',
    'profile.music_service': 'Servicio de música',
    'profile.profile_complete': 'Perfil completo',
    'profile.help.title': '¿Necesitas ayuda?',
    'profile.help.desc': '¿Problemas con tu cuenta o con Spotify?',
    'profile.help.center': 'Ver centro de ayuda',

    'tabs.signin': 'Iniciar sesión',
    'tabs.signup': 'Registrarse',
    'tabs.changepw': 'Cambiar contraseña',

    'labels.email': 'Correo electrónico',
    'labels.password': 'Contraseña',
    'labels.display_name': 'Nombre para mostrar',
    'labels.new_password': 'Nueva contraseña',
    'labels.confirm_new_password': 'Confirmar nueva contraseña',

    'placeholders.email': 'tu@email.com',
    'placeholders.example_email': 'tu@ejemplo.com',
    'placeholders.name': 'Tu nombre',

    'buttons.signin': 'Iniciar sesión',
    'buttons.signing_in': 'Iniciando sesión...',
    'buttons.create_account': 'Crear cuenta',
    'buttons.creating_account': 'Creando cuenta...',
    'buttons.send_reset_link': 'Enviar enlace de restablecimiento',
    'buttons.update_password': 'Actualizar contraseña',

    'info.email_one_account': 'Cada correo electrónico solo puede usarse para una cuenta.',
    'info.confirmation_email': 'Recibirás un correo para activar tu cuenta.',
    'info.reset_email_note': 'Te enviaremos un enlace seguro para confirmar tu identidad.',

    'toasts.invalid_credentials.title': 'Credenciales inválidas',
    'toasts.invalid_credentials.desc': 'Verifica tu correo y contraseña. Si acabas de registrarte, confirma tu correo.',
    'toasts.email_not_confirmed.title': 'Correo no confirmado',
    'toasts.email_not_confirmed.desc': 'Revisa tu correo y haz clic en el enlace de confirmación.',
    'toasts.account_not_found.title': 'Cuenta no encontrada',
    'toasts.account_not_found.desc': 'No existe una cuenta con este correo. Regístrate primero.',
    'toasts.signin_failed.title': 'Fallo al iniciar sesión',
    'toasts.signup_failed.title': 'Fallo al registrarse',
    'toasts.welcome_back': '¡Bienvenido de nuevo!',
    'toasts.password_too_short.title': 'Contraseña demasiado corta',
    'toasts.password_too_short.desc': 'Debe tener al menos 6 caracteres.',
    'toasts.password_too_weak.title': 'Contraseña débil',
    'toasts.password_too_weak.desc': 'Usa al menos 6 caracteres.',
    'toasts.invalid_email.title': 'Correo inválido',
    'toasts.invalid_email.desc': 'Ingresa un correo válido.',
    'toasts.unexpected_error.title': 'Ocurrió un error inesperado',
    'toasts.unexpected_error.desc': 'Inténtalo de nuevo más tarde.',
    'toasts.account_exists.title': 'La cuenta ya existe',
    'toasts.account_exists.desc': 'Ya existe una cuenta con este correo. Inicia sesión.',
    'toasts.account_created.title': '¡Cuenta creada!',
    'toasts.account_created.desc': 'Revisa tu correo y confirma para activar la cuenta.',
    'toasts.reset_failed.title': 'No se pudo enviar el correo de restablecimiento',
    'toasts.reset_sent.title': 'Correo de restablecimiento enviado',
    'toasts.reset_sent.desc': 'Revisa tu bandeja de entrada y sigue el enlace.',
    'toasts.weak_password.title': 'Contraseña débil',
    'toasts.weak_password.desc': 'Usa al menos 6 caracteres.',
    'toasts.passwords_no_match': 'Las contraseñas no coinciden',
    'toasts.update_failed.title': 'No se pudo actualizar la contraseña',
    'toasts.update_success': 'Contraseña cambiada con éxito',

    'banners.account_exists.title': 'La cuenta ya existe',
    'banners.success.title': 'Éxito',

    'messages.account_exists_detail': 'Ya existe una cuenta con este correo. Inicia sesión.',
    'messages.check_email_detail': 'Revisa tu correo y confirma para activar tu cuenta.',

    'toasts.profile.load_failed': 'Error al cargar el perfil',
    'toasts.profile.create_failed': 'Error al crear el perfil',
    'toasts.profile.save_failed': 'Error al guardar el perfil',
    'toasts.profile.save_success': 'Perfil actualizado correctamente',
    'toasts.spotify.connect_failed.title': 'Error al iniciar la conexión con Spotify',
    'toasts.spotify.connect_failed.desc': 'Verifica tu configuración.',
    'toasts.spotify.disconnect_failed': 'No se pudo desconectar Spotify',
    'toasts.spotify.disconnect_success': 'Spotify desconectado correctamente',
  },
  fr: {
    'app.tagline': 'Reliez vos émotions à la musique',
    'legal.disclaimer': 'En continuant, vous acceptez nos Conditions d’utilisation et notre Politique de confidentialité',

    'nav.app': 'Appli',
    'nav.features': 'Fonctionnalités',
    'nav.how': 'Fonctionnement',
    'nav.profile': 'Profil',
    'nav.logout': 'Se déconnecter',
    'nav.learn_more': 'En savoir plus',
    'nav.start_ai': "Lancer la détection IA",

    'index.hero.title': 'Découvrez votre voyage émotionnel',
    'index.hero.subtitle': "Découvrez la détection d'émotions par IA via votre webcam, ou sélectionnez votre humeur pour obtenir une musique et des visuels personnalisés.",
    'index.aura.title': 'Votre Aura',
    'index.aura.reflect': 'Reflète votre humeur actuelle :',
    'index.aura.desc': 'Votre aura change de couleur et d’intensité selon vos émotions détectées, créant une représentation visuelle personnalisée.',

    'features.title': 'Fonctionnalités puissantes',
    'features.ai.title': 'Détection des émotions par IA',
    'features.ai.desc': 'La reconnaissance faciale avancée analyse vos expressions en temps réel, ou choisissez une humeur manuellement.',
    'features.playlists.title': 'Playlists personnalisées',
    'features.playlists.desc': 'Obtenez des recommandations musicales adaptées à votre humeur et enregistrez-les sur Spotify.',
    'features.aura.title': 'Visualisation dynamique de l’aura',
    'features.aura.desc': 'Observez votre aura changer de couleurs et de motifs selon vos émotions.',

    'how.title': 'Comment ça marche',
    'how.step1.title': 'Activer la détection IA',
    'how.step1.desc': 'Autorisez la caméra pour démarrer la détection en temps réel. Traitement local pour la confidentialité.',
    'how.step2.title': 'Analyse des émotions',
    'how.step2.desc': 'Notre IA identifie joie, tristesse, surprise et plus avec une grande précision.',
    'how.step3.title': 'Expérience personnalisée',
    'how.step3.desc': 'Voyez votre aura se transformer et recevez des recommandations musicales adaptées.',

    'footer.powered': 'Propulsé par la détection des émotions et l’intégration Spotify • AuraSync',

    'emotion.detector.title': 'Détection des émotions par IA',
    'emotion.loading_models': 'Chargement des modèles IA...',
    'emotion.starting_camera': 'Démarrage de la caméra...',
    'emotion.preparing': 'Préparation de la détection des émotions',
    'emotion.camera_issue': "Problème d'accès à la caméra",
    'emotion.try_again': 'Réessayer',
    'emotion.ready': 'Détection des émotions prête',
    'emotion.ready_sub': 'Démarrez la caméra pour détecter les émotions et obtenir une musique personnalisée',
    'emotion.ai_detecting': 'IA en détection...',
    'emotion.loading_ai': 'Chargement de l’IA...',
    'emotion.ai_ready': 'IA prête',
    'emotion.starting': 'Démarrage...',
    'emotion.stop_camera': 'Arrêter la caméra',
    'emotion.start_camera': 'Démarrer la caméra',
    'emotion.detecting': 'Détection...',
    'emotion.resume_detection': 'Reprendre la détection',
    'emotion.detect_emotion': 'Détecter une émotion',
    'emotion.models_ready': 'Modèles IA prêts',
    'emotion.models_loading': 'Chargement des modèles IA...',
    'emotion.analyzing': 'Analyse des expressions faciales...',
    'emotion.locked': 'Émotion verrouillée',
    'emotion.manual.title': 'Sélection manuelle de l’humeur',
    'emotion.manual.subtitle': 'Cliquez sur une émotion pour des recommandations instantanées',
    'emotion.no_face': 'Aucun visage détecté',
    'emotion.generating_music': 'Génération de musique personnalisée...',
    'emotion.updating_aura': 'Mise à jour de votre aura',
    'emotion.detected_label': 'Émotion détectée',

    'emotions.happy': 'Heureux',
    'emotions.sad': 'Triste',
    'emotions.neutral': 'Neutre',
    'emotions.surprised': 'Surpris',
    'emotions.angry': 'En colère',

    'profile.back': 'Retour',
    'profile.title': 'Profil et paramètres',
    'profile.subtitle': 'Gérez votre compte et vos préférences musicales',
    'profile.tabs.settings': 'Paramètres',
    'profile.tabs.history': 'Historique des émotions',
    'profile.section.profile_info': 'Informations du profil',
    'profile.email': 'E-mail',
    'profile.member_since': 'Membre depuis',
    'profile.display_name': 'Nom affiché',
    'profile.display_name_placeholder': 'Entrez votre nom affiché',
    'profile.save': 'Enregistrer',
    'profile.saving': 'Enregistrement...',
    'profile.spotify.section_title': 'Intégration Spotify',
    'profile.connected': 'Connecté',
    'profile.not_connected': 'Non connecté',
    'profile.spotify.connected_msg': 'Votre compte Spotify est connecté ! Vous pouvez enregistrer des playlists et obtenir des recommandations.',
    'profile.spotify.user_id': 'ID utilisateur Spotify',
    'profile.disconnect': 'Déconnecter',
    'profile.spotify.connect_msg': 'Connectez votre compte Spotify pour enregistrer des playlists et synchroniser vos préférences.',
    'profile.spotify.connect_button': 'Connecter Spotify',
    'profile.spotify.benefits_title': 'En connectant Spotify, vous pourrez :',
    'profile.spotify.benefit.save': 'Enregistrer des playlists générées par IA',
    'profile.spotify.benefit.reco': 'Obtenir des recommandations selon vos goûts',
    'profile.spotify.benefit.access': 'Accéder à vos playlists existantes pour analyse',
    'profile.quick_stats': 'Statistiques rapides',
    'profile.account_status': 'Statut du compte',
    'profile.active': 'Actif',
    'profile.music_service': 'Service musical',
    'profile.profile_complete': 'Profil complété',
    'profile.help.title': 'Besoin d’aide ?',
    'profile.help.desc': 'Un problème avec votre compte ou Spotify ?',
    'profile.help.center': "Consulter l’aide",

    'tabs.signin': 'Se connecter',
    'tabs.signup': "S'inscrire",
    'tabs.changepw': 'Changer le mot de passe',

    'labels.email': 'E-mail',
    'labels.password': 'Mot de passe',
    'labels.display_name': 'Nom affiché',
    'labels.new_password': 'Nouveau mot de passe',
    'labels.confirm_new_password': 'Confirmez le nouveau mot de passe',

    'placeholders.email': 'votre@email.com',
    'placeholders.example_email': 'vous@exemple.com',
    'placeholders.name': 'Votre nom',

    'buttons.signin': 'Se connecter',
    'buttons.signing_in': 'Connexion...',
    'buttons.create_account': 'Créer un compte',
    'buttons.creating_account': 'Création du compte...',
    'buttons.send_reset_link': 'Envoyer le lien de réinitialisation',
    'buttons.update_password': 'Mettre à jour le mot de passe',

    'info.email_one_account': 'Chaque adresse e-mail ne peut être utilisée que pour un seul compte.',
    'info.confirmation_email': 'Vous recevrez un e-mail de confirmation pour activer votre compte.',
    'info.reset_email_note': 'Nous vous enverrons un lien sécurisé pour confirmer votre identité.',

    'toasts.invalid_credentials.title': 'Identifiants invalides',
    'toasts.invalid_credentials.desc': 'Vérifiez votre e-mail et votre mot de passe. Si vous venez de vous inscrire, confirmez votre e-mail.',
    'toasts.email_not_confirmed.title': 'E-mail non confirmé',
    'toasts.email_not_confirmed.desc': 'Vérifiez votre e-mail et cliquez sur le lien de confirmation.',
    'toasts.account_not_found.title': 'Compte introuvable',
    'toasts.account_not_found.desc': "Aucun compte trouvé avec cet e-mail. Veuillez d'abord vous inscrire.",
    'toasts.signin_failed.title': 'Échec de la connexion',
    'toasts.signup_failed.title': "Échec de l'inscription",
    'toasts.welcome_back': 'Content de vous revoir !',
    'toasts.password_too_short.title': 'Mot de passe trop court',
    'toasts.password_too_short.desc': 'Au moins 6 caractères.',
    'toasts.password_too_weak.title': 'Mot de passe faible',
    'toasts.password_too_weak.desc': 'Utilisez au moins 6 caractères.',
    'toasts.invalid_email.title': 'E-mail invalide',
    'toasts.invalid_email.desc': 'Veuillez saisir une adresse e-mail valide.',
    'toasts.unexpected_error.title': 'Une erreur inattendue est survenue',
    'toasts.unexpected_error.desc': 'Veuillez réessayer plus tard.',
    'toasts.account_exists.title': 'Le compte existe déjà',
    'toasts.account_exists.desc': 'Un compte avec cet e-mail existe déjà. Connectez-vous.',
    'toasts.account_created.title': 'Compte créé !',
    'toasts.account_created.desc': 'Vérifiez votre e-mail et cliquez sur le lien de confirmation.',
    'toasts.reset_failed.title': "Échec de l'envoi de l'e-mail de réinitialisation",
    'toasts.reset_sent.title': 'E-mail de réinitialisation envoyé',
    'toasts.reset_sent.desc': 'Consultez votre boîte de réception et suivez le lien.',
    'toasts.weak_password.title': 'Mot de passe faible',
    'toasts.weak_password.desc': 'Utilisez au moins 6 caractères.',
    'toasts.passwords_no_match': 'Les mots de passe ne correspondent pas',
    'toasts.update_failed.title': 'Échec de la mise à jour du mot de passe',
    'toasts.update_success': 'Mot de passe modifié avec succès',

    'banners.account_exists.title': 'Le compte existe déjà',
    'banners.success.title': 'Succès',

    'messages.account_exists_detail': 'Un compte avec cette adresse e-mail existe déjà. Connectez-vous.',
    'messages.check_email_detail': 'Vérifiez votre e-mail et cliquez sur le lien de confirmation pour activer votre compte.',

    'toasts.profile.load_failed': 'Échec du chargement du profil',
    'toasts.profile.create_failed': 'Échec de la création du profil',
    'toasts.profile.save_failed': 'Échec de l’enregistrement du profil',
    'toasts.profile.save_success': 'Profil mis à jour avec succès',
    'toasts.spotify.connect_failed.title': 'Échec du démarrage de la connexion Spotify',
    'toasts.spotify.connect_failed.desc': 'Veuillez vérifier votre configuration.',
    'toasts.spotify.disconnect_failed': 'Échec de la déconnexion de Spotify',
    'toasts.spotify.disconnect_success': 'Spotify déconnecté avec succès',
  },
  de: {
    'app.tagline': 'Verbinde deine Emotionen mit Musik',
    'legal.disclaimer': 'Mit dem Fortfahren stimmst du unseren Nutzungsbedingungen und der Datenschutzrichtlinie zu',

    'nav.app': 'App',
    'nav.features': 'Funktionen',
    'nav.how': 'So funktioniert es',
    'nav.profile': 'Profil',
    'nav.logout': 'Abmelden',
    'nav.learn_more': 'Mehr erfahren',
    'nav.start_ai': 'KI-Erkennung starten',

    'index.hero.title': 'Entdecke deine emotionale Reise',
    'index.hero.subtitle': 'Nutze KI-Emotionserkennung mit deiner Kamera oder wähle manuell deine Stimmung für personalisierte Musik und Visuals.',
    'index.aura.title': 'Deine Aura',
    'index.aura.reflect': 'Spiegelt deine aktuelle Stimmung:',
    'index.aura.desc': 'Deine Aura ändert Farbe und Intensität basierend auf erkannten Emotionen und visualisiert deinen inneren Zustand.',

    'features.title': 'Leistungsstarke Funktionen',
    'features.ai.title': 'KI-Emotionserkennung',
    'features.ai.desc': 'Fortschrittliche Gesichtserkennung analysiert deine Mimik in Echtzeit oder per manueller Auswahl.',
    'features.playlists.title': 'Personalisierte Playlists',
    'features.playlists.desc': 'Erhalte Musikempfehlungen passend zu deiner Stimmung und speichere sie in Spotify.',
    'features.aura.title': 'Dynamische Aura-Visualisierung',
    'features.aura.desc': 'Sieh zu, wie deine Aura je nach Emotionen Farben und Muster wechselt.',

    'how.title': 'So funktioniert es',
    'how.step1.title': 'KI-Erkennung aktivieren',
    'how.step1.desc': 'Kamerazugriff erlauben, um die Echtzeit-Erkennung zu starten. Lokale Verarbeitung schützt deine Privatsphäre.',
    'how.step2.title': 'Emotionsanalyse',
    'how.step2.desc': 'Unsere KI erkennt Freude, Traurigkeit, Überraschung u. a. mit hoher Genauigkeit.',
    'how.step3.title': 'Personalisierte Erfahrung',
    'how.step3.desc': 'Erlebe deine Aura in Echtzeit und erhalte passende Musikempfehlungen.',

    'footer.powered': 'Bereitgestellt durch KI-Emotionserkennung und Spotify-Integration • AuraSync',

    'emotion.detector.title': 'KI-Emotionserkennung',
    'emotion.loading_models': 'KI-Modelle werden geladen...',
    'emotion.starting_camera': 'Kamera wird gestartet...',
    'emotion.preparing': 'Emotionserkennung wird vorbereitet',
    'emotion.camera_issue': 'Kamerazugriff-Problem',
    'emotion.try_again': 'Erneut versuchen',
    'emotion.ready': 'Emotionserkennung bereit',
    'emotion.ready_sub': 'Starte die Kamera, um Emotionen zu erkennen und Musik zu erhalten',
    'emotion.ai_detecting': 'KI erkennt...',
    'emotion.loading_ai': 'KI wird geladen...',
    'emotion.ai_ready': 'KI bereit',
    'emotion.starting': 'Startet...',
    'emotion.stop_camera': 'Kamera stoppen',
    'emotion.start_camera': 'Kamera starten',
    'emotion.detecting': 'Erkennung...',
    'emotion.resume_detection': 'Erkennung fortsetzen',
    'emotion.detect_emotion': 'Emotion erkennen',
    'emotion.models_ready': 'KI-Modelle bereit',
    'emotion.models_loading': 'KI-Modelle werden geladen...',
    'emotion.analyzing': 'Analyse der Gesichtsausdrücke...',
    'emotion.locked': 'Emotion gesperrt',
    'emotion.manual.title': 'Manuelle Stimmungswahl',
    'emotion.manual.subtitle': 'Klicke auf eine Emotion, um Empfehlungen zu erhalten',
    'emotion.no_face': 'Kein Gesicht erkannt',
    'emotion.generating_music': 'Personalisierte Musik wird generiert...',
    'emotion.updating_aura': 'Aura-Visualisierung wird aktualisiert',
    'emotion.detected_label': 'Erkannte Emotion',

    'emotions.happy': 'Glücklich',
    'emotions.sad': 'Traurig',
    'emotions.neutral': 'Neutral',
    'emotions.surprised': 'Überrascht',
    'emotions.angry': 'Wütend',

    'profile.back': 'Zurück',
    'profile.title': 'Profil & Einstellungen',
    'profile.subtitle': 'Verwalte dein Konto und deine Musikpräferenzen',
    'profile.tabs.settings': 'Einstellungen',
    'profile.tabs.history': 'Emotionsverlauf',
    'profile.section.profile_info': 'Profilinformationen',
    'profile.email': 'E-Mail',
    'profile.member_since': 'Mitglied seit',
    'profile.display_name': 'Anzeigename',
    'profile.display_name_placeholder': 'Gib deinen Anzeigenamen ein',
    'profile.save': 'Speichern',
    'profile.saving': 'Speichern...',
    'profile.spotify.section_title': 'Spotify-Integration',
    'profile.connected': 'Verbunden',
    'profile.not_connected': 'Nicht verbunden',
    'profile.spotify.connected_msg': 'Dein Spotify-Konto ist verbunden! Du kannst Playlists speichern und Empfehlungen erhalten.',
    'profile.spotify.user_id': 'Spotify-Benutzer-ID',
    'profile.disconnect': 'Trennen',
    'profile.spotify.connect_msg': 'Verbinde dein Spotify-Konto, um Playlists zu speichern und Präferenzen zu synchronisieren.',
    'profile.spotify.connect_button': 'Spotify verbinden',
    'profile.spotify.benefits_title': 'Mit Spotify kannst du:',
    'profile.spotify.benefit.save': 'KI-Playlists in deiner Bibliothek speichern',
    'profile.spotify.benefit.reco': 'Empfehlungen nach deinem Geschmack erhalten',
    'profile.spotify.benefit.access': 'Zugriff auf vorhandene Playlists für Analysen',
    'profile.quick_stats': 'Schnellstatistiken',
    'profile.account_status': 'Kontostatus',
    'profile.active': 'Aktiv',
    'profile.music_service': 'Musikdienst',
    'profile.profile_complete': 'Profil vollständig',
    'profile.help.title': 'Brauchst du Hilfe?',
    'profile.help.desc': 'Probleme mit deinem Konto oder mit Spotify?',
    'profile.help.center': 'Hilfe-Center ansehen',

    'tabs.signin': 'Anmelden',
    'tabs.signup': 'Registrieren',
    'tabs.changepw': 'Passwort ändern',

    'labels.email': 'E-Mail',
    'labels.password': 'Passwort',
    'labels.display_name': 'Anzeigename',
    'labels.new_password': 'Neues Passwort',
    'labels.confirm_new_password': 'Neues Passwort bestätigen',

    'placeholders.email': 'deine@email.com',
    'placeholders.example_email': 'du@beispiel.de',
    'placeholders.name': 'Dein Name',

    'buttons.signin': 'Anmelden',
    'buttons.signing_in': 'Anmeldung...',
    'buttons.create_account': 'Konto erstellen',
    'buttons.creating_account': 'Konto wird erstellt...',
    'buttons.send_reset_link': 'Link zum Zurücksetzen senden',
    'buttons.update_password': 'Passwort aktualisieren',

    'info.email_one_account': 'Jede E-Mail-Adresse kann nur für ein Konto verwendet werden.',
    'info.confirmation_email': 'Du erhältst eine Bestätigungs-E-Mail zur Aktivierung deines Kontos.',
    'info.reset_email_note': 'Wir senden dir einen sicheren Link zur Bestätigung deiner Identität.',

    'toasts.invalid_credentials.title': 'Ungültige Anmeldedaten',
    'toasts.invalid_credentials.desc': 'Bitte E-Mail und Passwort prüfen. Wenn du dich gerade registriert hast, bestätige deine E-Mail.',
    'toasts.email_not_confirmed.title': 'E-Mail nicht bestätigt',
    'toasts.email_not_confirmed.desc': 'Bitte E-Mail prüfen und den Bestätigungslink anklicken.',
    'toasts.account_not_found.title': 'Konto nicht gefunden',
    'toasts.account_not_found.desc': 'Kein Konto mit dieser E-Mail gefunden. Bitte zuerst registrieren.',
    'toasts.signin_failed.title': 'Anmeldung fehlgeschlagen',
    'toasts.signup_failed.title': 'Registrierung fehlgeschlagen',
    'toasts.welcome_back': 'Willkommen zurück!',
    'toasts.password_too_short.title': 'Passwort zu kurz',
    'toasts.password_too_short.desc': 'Mindestens 6 Zeichen.',
    'toasts.password_too_weak.title': 'Schwaches Passwort',
    'toasts.password_too_weak.desc': 'Mindestens 6 Zeichen verwenden.',
    'toasts.invalid_email.title': 'Ungültige E-Mail',
    'toasts.invalid_email.desc': 'Bitte eine gültige E-Mail-Adresse eingeben.',
    'toasts.unexpected_error.title': 'Unerwarteter Fehler',
    'toasts.unexpected_error.desc': 'Bitte später erneut versuchen.',
    'toasts.account_exists.title': 'Konto existiert bereits',
    'toasts.account_exists.desc': 'Mit dieser E-Mail existiert bereits ein Konto. Bitte anmelden.',
    'toasts.account_created.title': 'Konto erstellt!',
    'toasts.account_created.desc': 'Bitte E-Mail prüfen und Bestätigungslink anklicken.',
    'toasts.reset_failed.title': 'Zurücksetz-E-Mail konnte nicht gesendet werden',
    'toasts.reset_sent.title': 'Zurücksetz-E-Mail gesendet',
    'toasts.reset_sent.desc': 'Posteingang prüfen und dem Link folgen.',
    'toasts.weak_password.title': 'Schwaches Passwort',
    'toasts.weak_password.desc': 'Mindestens 6 Zeichen verwenden.',
    'toasts.passwords_no_match': 'Passwörter stimmen nicht überein',
    'toasts.update_failed.title': 'Passwortaktualisierung fehlgeschlagen',
    'toasts.update_success': 'Passwort erfolgreich geändert',

    'banners.account_exists.title': 'Konto existiert bereits',
    'banners.success.title': 'Erfolg',

    'messages.account_exists_detail': 'Mit dieser E-Mail existiert bereits ein Konto. Bitte anmelden.',
    'messages.check_email_detail': 'Bitte E-Mail prüfen und Bestätigungslink anklicken, um das Konto zu aktivieren.',

    'toasts.profile.load_failed': 'Profil konnte nicht geladen werden',
    'toasts.profile.create_failed': 'Profil konnte nicht erstellt werden',
    'toasts.profile.save_failed': 'Profil konnte nicht gespeichert werden',
    'toasts.profile.save_success': 'Profil erfolgreich aktualisiert',
    'toasts.spotify.connect_failed.title': 'Spotify-Verbindung konnte nicht gestartet werden',
    'toasts.spotify.connect_failed.desc': 'Bitte Konfiguration prüfen.',
    'toasts.spotify.disconnect_failed': 'Spotify konnte nicht getrennt werden',
    'toasts.spotify.disconnect_success': 'Spotify erfolgreich getrennt',
  },
  hi: {
    'app.tagline': 'अपनी भावनाओं को संगीत से जोड़ें',
    'legal.disclaimer': 'जारी रखते हुए, आप हमारी सेवा की शर्तों और गोपनीयत��� नीति से सहमत हैं',

    'nav.app': 'ऐप',
    'nav.features': 'विशेषताएँ',
    'nav.how': 'कैसे काम करता है',
    'nav.profile': 'प्रोफ़ाइल',
    'nav.logout': 'लॉग आउट',
    'nav.learn_more': 'और जानें',
    'nav.start_ai': 'एआई डिटेक्शन शुरू करें',

    'index.hero.title': 'अपनी भावनात्मक यात्रा खोजें',
    'index.hero.subtitle': 'वेबकैम से एआई-आधारित इमोशन डिटेक्शन का अनुभव करें, या अपना मूड चुनकर संगीत और विज़ुअल प्राप्त करें।',
    'index.aura.title': 'आपकी आभा',
    'index.aura.reflect': 'आपके वर्तमान मूड को दर्शाता है:',
    'index.aura.desc': 'आपकी आभा पहचानी गई भावनाओं के आधार पर रंग और तीव्रता बदलती है, जो आपके आंतरिक अवस्था का दृश्य रूप है।',

    'features.title': 'शक्तिशाली सुविधाएँ',
    'features.ai.title': 'एआई इमोशन डिटेक्शन',
    'features.ai.desc': 'उन्नत फेस पहचान आपके हाव-भाव का रीयल-टाइम विश्लेषण करती है, या त्वरित सिफारिशों के लिए मैनुअल मूड चुनें।',
    'features.playlists.title': 'व्यक्तिगत प्लेलिस्ट',
    'features.playlists.desc': 'अपने मूड के अनुसार संगीत सिफारिशें प्राप्त करें और Spotify पर सहेजें।',
    'features.aura.title': 'डायनामिक आभा विज़ुअलाइज़ेशन',
    'features.aura.desc': 'अपनी भावनाओं के आधार पर आपकी आभा कैसे बदलती है, देखें।',

    'how.title': 'यह कैसे काम करता है',
    'how.step1.title': 'एआई डिटेक्शन सक्षम करें',
    'how.step1.desc': 'रीयल-टाइम डिटेक्शन के लिए कैमरा अनुमति दें। आपकी गोपनीयता के लिए लोकल प्र��सेसिंग।',
    'how.step2.title': 'भावना विश्लेषण',
    'how.step2.desc': 'हमारी एआई खुशी, उदासी, आश्चर्य आदि जैसी भावनाओं की पहचान करती है।',
    'how.step3.title': 'व्यक्तिगत अनुभव',
    'how.step3.desc': 'रीयल-टाइम में आभा परिवर्तन देखें और मेल खाती संगीत सिफारिशें पाएं।',

    'footer.powered': 'एआई इमोशन डिटेक्शन और Spotify इंटीग्रेशन द्वारा संचालित • AuraSync',

    'emotion.detector.title': 'एआई इमोशन डिटेक्शन',
    'emotion.loading_models': 'एआई मॉडल लोड हो रहे हैं...',
    'emotion.starting_camera': 'कैमरा शुरू हो रहा है...',
    'emotion.preparing': 'एआई इमोशन डिटेक्शन तैयार हो रहा है',
    'emotion.camera_issue': 'कैमरा एक्सेस समस्या',
    'emotion.try_again': 'पुनः प्रयास करें',
    'emotion.ready': 'एआई इमोशन डिटेक्शन तैयार',
    'emotion.ready_sub': 'भावनाओं का पता लगाने और व्यक्तिगत संगीत पाने के लि��� कैमरा शुरू करें',
    'emotion.ai_detecting': 'एआई डिटेक्ट कर रहा है...',
    'emotion.loading_ai': 'एआई लोड हो रहा है...',
    'emotion.ai_ready': 'एआई तैयार',
    'emotion.starting': 'शुरू हो रहा है...',
    'emotion.stop_camera': 'कैमरा बंद करें',
    'emotion.start_camera': 'कैमरा शुरू करें',
    'emotion.detecting': 'डिटेक्ट हो रहा है...',
    'emotion.resume_detection': 'डिटेक्शन पुनः शुरू करें',
    'emotion.detect_emotion': 'भावना पहचानें',
    'emotion.models_ready': 'एआई मॉडल तैयार',
    'emotion.models_loading': 'एआई मॉडल लोड हो रहे हैं...',
    'emotion.analyzing': 'चेहरे के भावों का विश्लेषण...',
    'emotion.locked': 'भावना लॉक हो गई',
    'emotion.manual.title': 'मैनुअल मूड चयन',
    'emotion.manual.subtitle': 'तुरंत सिफारिशों के लिए किसी भावना पर क्लिक करें',
    'emotion.no_face': 'चेहरा न��ीं मिला',
    'emotion.generating_music': 'व्यक्तिगत संगीत तैयार हो रहा है...',
    'emotion.updating_aura': 'आपकी आभा अपडेट हो रही है',
    'emotion.detected_label': 'पहचानी गई भावना',

    'emotions.happy': 'खुश',
    'emotions.sad': 'उदास',
    'emotions.neutral': 'सामान्य',
    'emotions.surprised': 'आश्चर्यचकित',
    'emotions.angry': 'गुस्सा',

    'profile.back': 'वापस',
    'profile.title': 'प्रोफ़ाइल और सेटिंग्स',
    'profile.subtitle': 'अपना खाता और संगीत वरीयताएँ प्रबंधित करें',
    'profile.tabs.settings': 'सेटिंग्स',
    'profile.tabs.history': 'भावनाओं का इतिहास',
    'profile.section.profile_info': 'प्रोफ़ाइल जानकारी',
    'profile.email': 'ईमेल',
    'profile.member_since': 'से सदस्य',
    'profile.display_name': 'प्रदर्शित नाम',
    'profile.display_name_placeholder': 'अपना प्रदर्शित नाम दर्ज करें',
    'profile.save': 'सहेजें',
    'profile.saving': 'सहेजा जा रहा है...',
    'profile.spotify.section_title': 'Spotify एकीकरण',
    'profile.connected': 'कनेक्टेड',
    'profile.not_connected': 'कनेक्ट नहीं',
    'profile.spotify.connected_msg': 'आपका Spotify खाता कनेक्ट हो गया है! अब आप प्लेलिस्ट सहेज सकते हैं और सिफारिशें प्राप्त कर सकते हैं।',
    'profile.spotify.user_id': 'Spotify यूज़र आईडी',
    'profile.disconnect': 'डिसकनेक्ट',
    'profile.spotify.connect_msg': 'Spotify कनेक्ट करें ताकि प्लेलिस्ट सहेजें और वरीयताएँ सिंक करें।',
    'profile.spotify.connect_button': 'Spotify खाता कनेक्ट करें',
    'profile.spotify.benefits_title': 'Spotify जोड़ने पर आप कर पाएँगे:',
    'profile.spotify.benefit.save': 'एआई प्लेलिस्ट को अपनी लाइब्रेरी में सहेजें',
    'profile.spotify.benefit.reco': 'अपने स्वाद के आधार ���र सिफारिशें पाएं',
    'profile.spotify.benefit.access': 'मूड विश्लेषण के लिए मौजूदा प्लेलिस्ट तक पहुँच',
    'profile.quick_stats': 'क्विक आँकड़े',
    'profile.account_status': 'खाते की स्थिति',
    'profile.active': 'सक्रिय',
    'profile.music_service': 'म्यूज़िक सेवा',
    'profile.profile_complete': 'प्रोफ़ाइल पूरी',
    'profile.help.title': 'मदद चाहिए?',
    'profile.help.desc': 'खाते या Spotify एकीकरण में समस्या?',
    'profile.help.center': 'हेल्प सेंटर देखें',

    'tabs.signin': 'साइन इन',
    'tabs.signup': 'साइन अप',
    'tabs.changepw': 'पासवर्ड बदलें',

    'labels.email': 'ईमेल',
    'labels.password': 'पासवर्ड',
    'labels.display_name': 'प्रदर्शित नाम',
    'labels.new_password': 'नया पासवर्ड',
    'labels.confirm_new_password': 'नया पासवर्ड पुष्टि करें',

    'placeholders.email': 'aapka@email.com',
    'placeholders.example_email': 'aap@udaharan.com',
    'placeholders.name': 'आपका नाम',

    'buttons.signin': 'साइन इन',
    'buttons.signing_in': 'साइन इन हो रहा है...',
    'buttons.create_account': 'खाता बनाएँ',
    'buttons.creating_account': 'खाता बनाया जा रहा है...',
    'buttons.send_reset_link': 'रीसेट लिंक भेजें',
    'buttons.update_password': 'पासवर्ड अपडेट करें',

    'info.email_one_account': 'प्रत्येक ईमेल केवल एक खाते के लिए उपयोग किया जा सकता है।',
    'info.confirmation_email': 'आपको अपना खाता सक्रिय करने के लिए पुष्टि ईमेल मिलेगा।',
    'info.reset_email_note': 'हम आपकी पहचान की पुष्टि के लिए एक सुरक्षित लिंक ईमेल करेंगे।',

    'toasts.invalid_credentials.title': 'अमान्य क्रेडेंशियल',
    'toasts.invalid_credentials.desc': 'कृपया ईमेल और पासवर्ड जाँचें। यदि आपने अभी साइन अप क��या है, तो अपना ईमेल पुष्ट करें।',
    'toasts.email_not_confirmed.title': 'ईमेल पुष्टि नहीं हुआ',
    'toasts.email_not_confirmed.desc': 'कृपया ईमेल देखें और पुष्टि लिंक पर क्लिक करें।',
    'toasts.account_not_found.title': 'खाता नहीं मिला',
    'toasts.account_not_found.desc': 'इस ईमेल के साथ कोई खाता नहीं मिला। पहले साइन अप करें।',
    'toasts.signin_failed.title': 'साइन इन विफल',
    'toasts.signup_failed.title': 'साइन अप विफल',
    'toasts.welcome_back': 'वापसी पर स्वागत है!',
    'toasts.password_too_short.title': 'पासवर्ड बहुत छोटा है',
    'toasts.password_too_short.desc': 'कम से कम 6 अक्षर होने चाहिए।',
    'toasts.password_too_weak.title': 'कमज़ोर पासवर्ड',
    'toasts.password_too_weak.desc': 'कम से कम 6 अक्षर उपयोग करें।',
    'toasts.invalid_email.title': 'अमान्य ईमेल',
    'toasts.invalid_email.desc': 'क���पया वैध ईमेल दर्ज करें।',
    'toasts.unexpected_error.title': 'एक अनपेक्षित त्रुटि हुई',
    'toasts.unexpected_error.desc': 'कृपया बाद में पुनः प्रयास करें।',
    'toasts.account_exists.title': 'खाता पहले से मौजूद है',
    'toasts.account_exists.desc': 'इस ईमेल के साथ खाता पहले से मौजूद है। कृपया साइन इन करें।',
    'toasts.account_created.title': 'खाता बन गया!',
    'toasts.account_created.desc': 'कृपया अपना ईमेल देखें और पुष्टि लिंक पर क्लिक करें।',
    'toasts.reset_failed.title': 'रीसेट ईमेल भेजने में विफल',
    'toasts.reset_sent.title': 'पासवर्ड रीसेट ईमेल भेजा गया',
    'toasts.reset_sent.desc': 'अपना इनबॉक्स जाँचें और लिंक का पालन करें।',
    'toasts.weak_password.title': 'कमज़ोर पासवर्ड',
    'toasts.weak_password.desc': 'कम से कम 6 अक्षर उपयो��� करें।',
    'toasts.passwords_no_match': 'पासवर्ड मेल नहीं खाते',
    'toasts.update_failed.title': 'पासवर्ड अपडेट विफल',
    'toasts.update_success': 'पासवर्ड सफलतापूर्वक बदला गया',

    'banners.account_exists.title': 'खाता पहले से मौजूद है',
    'banners.success.title': 'सफलता',

    'messages.account_exists_detail': 'इस ईमेल के साथ खाता पहले से मौजूद है। कृपया साइन इन करें।',
    'messages.check_email_detail': 'कृपया अपना ईमेल देखें और पुष्टि लिंक पर क्लिक करें।',

    'toasts.profile.load_failed': 'प्रोफ़ाइल लोड करने में विफल',
    'toasts.profile.create_failed': 'प्रोफ़ाइल बनाने में विफल',
    'toasts.profile.save_failed': 'प्रोफ़ाइल सहेजने में विफल',
    'toasts.profile.save_success': 'प्रोफ़ाइल सफलतापूर्वक अपडेट हुई',
    'toasts.spotify.connect_failed.title': 'Spotify कनेक्शन शुरू करने में विफल',
    'toasts.spotify.connect_failed.desc': 'कृपया कॉन्फ़िगरेशन जाँचें।',
    'toasts.spotify.disconnect_failed': 'Spotify डिसकनेक्ट करने में विफल',
    'toasts.spotify.disconnect_success': 'Spotify सफलतापूर्वक डिसकनेक्ट हुआ',
  },
  bn: {
    'app.tagline': 'আপনার অনুভূতিগুলোকে সংগীতের সাথে যুক্ত করুন',
    'legal.disclaimer': 'চালিয়ে গেলে আপনি আমাদের পরিষেবার শর্তাবলী ও গোপনীয়তা নীতিতে সম্মত হচ্ছেন',

    'nav.app': 'অ্যাপ',
    'nav.features': 'বৈশিষ্ট্য',
    'nav.how': 'কিভাবে কাজ করে',
    'nav.profile': 'প্রোফাইল',
    'nav.logout': 'লগ আউট',
    'nav.learn_more': 'আরও জানুন',
    'nav.start_ai': 'এআই ডিটেকশন শুরু করুন',

    'index.hero.title': 'আপনার আবেগময় যাত্রা আবিষ্কার করুন',
    'index.hero.subtitle': 'ওয়েবক্যাম দিয়ে এআই-চালিত ইমোশন ডিটেকশন ব্যবহার করুন, অথবা ম্যানুয়ালি মুড বেছে নিয়ে ব্যক্তিগত সংগীত ও ভিজ্যুয়াল পান।',
    'index.aura.title': 'আপনার অরা',
    'index.aura.reflect': 'আপনার বর্তমান মুড প্রতিফলিত হচ্ছে:',
    'index.aura.desc': 'আপনার অরা সনাক্ত আবেগের উপর ভিত্তি করে রঙ ও তীব্রতা পরিবর্তন করে, যা আপনার অন্তর্দশার দৃশ্যমান রূপ।',

    'features.title': 'শক্তিশালী বৈশিষ্ট্য',
    'features.ai.title': 'এআই ইমোশন ডিটেকশন',
    'features.ai.desc': 'উন্নত মুখ শনাক্তকরণ প্রযুক্তি রিয়েল-টাইমে আপনার অভিব্যক্তি বিশ্লেষণ করে, অথবা ম্যানুয়াল মুড বেছে নিন।',
    'features.playlists.title': 'পার্সোনালাইজড প্লে��িস্ট',
    'features.playlists.desc': 'আপনার মুড অনুযায়ী সংগীতের সুপারিশ পান এবং Spotify-এ সংরক্ষণ করুন।',
    'features.aura.title': 'ডায়নামিক অরা ভিজ্যুয়ালাইজেশন',
    'features.aura.desc': 'আপনার আবেগের উপর ভিত্তি করে কিভাবে অরা রঙ ও প্যাটার্ন বদলায় দেখুন।',

    'how.title': 'কিভাবে কাজ করে',
    'how.step1.title': 'এআই ডিটেকশন সক্রিয় করুন',
    'how.step1.desc': 'রিয়েল-টাইম ডিটেকশনের জন্য ক্যামেরা অনুমতি দিন। লোকাল প্রসেসিং আপনার গোপনীয়তা রক্ষা করে।',
    'how.step2.title': 'আবেগ বিশ্লেষণ',
    'how.step2.desc': 'আমাদের এআই আনন্দ, দুঃখ, বিস্ময় ইত্যাদি আবেগ চিহ্নিত করে।',
    'how.step3.title': 'পার্সোনালাইজড অভিজ্ঞতা',
    'how.step3.desc': 'রিয়ে��-টাইমে আপনার অরা পরিবর্তন দেখুন এবং মিলেমিশে সংগীত পান।',

    'footer.powered': 'এআই ইমোশন ডিটেকশন ও Spotify ইন্টিগ্রেশনে চালিত • AuraSync',

    'emotion.detector.title': 'এআই ইমোশন ডিটেকশন',
    'emotion.loading_models': 'এআই মডেল লোড হচ্ছে...',
    'emotion.starting_camera': 'ক্যামেরা চালু হচ্ছে...',
    'emotion.preparing': 'এআই ইমোশন ডিটেকশন প্রস্তুত হচ্ছে',
    'emotion.camera_issue': 'ক্যামেরা প্রবেশ সমস্যা',
    'emotion.try_again': 'আবার চেষ্টা করুন',
    'emotion.ready': 'এআই ইমোশন ডিটেকশন প্রস্তুত',
    'emotion.ready_sub': 'ক্যামেরা চালু করুন আবেগ শনাক্ত করতে এবং ব্যক্তিগত সংগীত পেতে',
    'emotion.ai_detecting': 'এআই শনাক্ত করছে...',
    'emotion.loading_ai': 'এআই লোড হচ্ছে...',
    'emotion.ai_ready': 'এআই প্রস্তুত',
    'emotion.starting': 'শুরু হচ্ছে...',
    'emotion.stop_camera': 'ক্যামেরা বন্ধ করুন',
    'emotion.start_camera': 'ক্যামেরা চালু করুন',
    'emotion.detecting': '��নাক্ত হচ্ছে...',
    'emotion.resume_detection': 'ডিটেকশন পুনরায় চালু করুন',
    'emotion.detect_emotion': 'আবেগ শনাক্ত করুন',
    'emotion.models_ready': 'এআই মডেল প্রস্তুত',
    'emotion.models_loading': 'এআই মডেল লোড হচ্ছে...',
    'emotion.analyzing': 'মুখের অভিব্যক্তি বিশ্লেষণ...',
    'emotion.locked': 'আবেগ লক করা',
    'emotion.manual.title': 'ম্যানুয়াল মুড নির্বাচন',
    'emotion.manual.subtitle': 'তাৎক্ষণিক সুপারিশের জন্য একটি আবেগে ক্লিক করুন',
    'emotion.no_face': 'কোনো মুখ শনাক্ত হয়নি',
    'emotion.generating_music': 'ব্যক্তিগত সংগীত তৈরি হচ্ছে...',
    'emotion.updating_aura': 'আপনার অরা আপডেট হচ্ছে',
    'emotion.detected_label': 'শনাক্ত আবেগ',

    'emotions.happy': 'খুশি',
    'emotions.sad': 'দুঃখিত',
    'emotions.neutral': 'নিরপেক্ষ',
    'emotions.surprised': 'বিস্মিত',
    'emotions.angry': 'রাগান্বিত',

    'profile.back': 'ফিরে যান',
    'profile.title': 'প্রোফাইল ও সেটিংস',
    'profile.subtitle': 'আপনার একাউন্ট এবং মিউজিক পছন্দসমূহ পরিচালনা করুন',
    'profile.tabs.settings': 'সেটিংস',
    'profile.tabs.history': 'আবেগের ইতিহাস',
    'profile.section.profile_info': 'প্রোফাইল তথ্য',
    'profile.email': 'ইমেইল',
    'profile.member_since': 'মেম্বার সিঞ্চে',
    'profile.display_name': 'প্রদর্শিত নাম',
    'profile.display_name_placeholder': 'আপনার নাম লিখুন',
    'profile.save': 'সেভ',
    'profile.saving': 'সেভ হচ্ছে...',
    'profile.spotify.section_title': 'Spotify ইন্টিগ্রেশন',
    'profile.connected': 'কানেক্টেড',
    'profile.not_connected': 'কানেক্টেড নয়',
    'profile.spotify.connected_msg': 'আপনার Spotify একাউন্ট কানেক্ট হয়েছে! এখন আপনি প্লেলিস্ট সেভ করতে পারবেন এবং সুপারিশ পাবেন।',
    'profile.spotify.user_id': 'Spotify ইউজার আইডি',
    'profile.disconnect': 'ডিসকানেক্ট',
    'profile.spotify.connect_msg': 'Spotify কানেক্ট করুন প্লেলিস্ট সেভ করতে এবং পছন্দসমূহ সিঙ্ক করতে।',
    'profile.spotify.connect_button': 'Spotify একাউন্ট কানেক্ট করুন',
    'profile.spotify.benefits_title': 'Spotify কানেক্ট করলে আপনি পারবেন:',
    'profile.spotify.benefit.save': 'এআই প্লেলিস্ট লাইব্রেরিতে সেভ করুন',
    'profile.spotify.benefit.reco': 'আপনার রুচি অনুযায়ী সুপারিশ পান',
    'profile.spotify.benefit.access': 'মুড বিশ্লেষণের জন্য প্লেলিস্টে অ্যাক্সেস',
    'profile.quick_stats': 'দ্রুত পরিসংখ্যান',
    'profile.account_status': 'অ্যাকাউন্ট স্ট্যাটাস',
    'profile.active': 'সক্রিয়',
    'profile.music_service': 'মিউজিক সার্ভিস',
    'profile.profile_complete': '��্রোফাইল সম্পন্ন',
    'profile.help.title': 'সাহায্য দরকার?',
    'profile.help.desc': 'আপনার একাউন্ট বা Spotify ইন্টিগ্রেশন নিয়ে সমস্যা?',
    'profile.help.center': 'হেল্প সেন্টার দেখুন',

    'tabs.signin': 'সাইন ইন',
    'tabs.signup': 'সাইন আপ',
    'tabs.changepw': 'পাসওয়ার্ড পরিবর্তন',

    'labels.email': 'ইমেইল',
    'labels.password': 'পাসওয়ার্ড',
    'labels.display_name': 'প্রদর্শিত নাম',
    'labels.new_password': 'নতুন পাসওয়ার্ড',
    'labels.confirm_new_password': 'নতুন পাসওয়ার্ড নিশ্চিত করুন',

    'placeholders.email': 'apnar@email.com',
    'placeholders.example_email': 'apni@udaharun.com',
    'placeholders.name': 'আপনার নাম',

    'buttons.signin': 'সাইন ইন',
    'buttons.signing_in': 'সাইন ইন হচ্ছে...',
    'buttons.create_account': 'অ্যাকাউন্ট তৈরি করুন',
    'buttons.creating_account': 'অ্যাকাউন্ট তৈরি হচ্ছে...',
    'buttons.send_reset_link': 'রিসেট লিংক পাঠান',
    'buttons.update_password': 'পাসওয়ার্ড আপডেট করুন',

    'info.email_one_account': 'প্রতিটি ইমেইল কেবল একটি অ্যাকাউন্টের জন্য ব্যবহার করা যাবে।',
    'info.confirmation_email': 'আপনি আপনার অ্যাকাউন্ট সক্রিয় করতে একটি নিশ্চিতকরণ ইমেইল পাবেন।',
    'info.reset_email_note': 'আমরা আপনার পরিচয় নিশ্চিত করতে একটি সুরক্ষিত লিংক ইমেইল করব।',

    'toasts.invalid_credentials.title': 'অবৈধ শংসাপত্র',
    'toasts.invalid_credentials.desc': 'ইমেইল ও পাসওয়ার্ড যাচাই করুন। সদ্য সাইন আপ করলে ইমেইল নিশ্চিত করুন।',
    'toasts.email_not_confirmed.title': 'ইমেইল নিশ্চিত করা হয়নি',
    'toasts.email_not_confirmed.desc': 'ইমেইল দেখুন এবং নিশ্চিতকরণ লিংকে ক্লিক করুন।',
    'toasts.account_not_found.title': 'অ্যাকাউন্ট পাওয়া যায়নি',
    'toasts.account_not_found.desc': 'এই ইমেইল দিয়ে কোনো অ্যাকাউন্ট নেই। আগে সাইন আপ করুন।',
    'toasts.signin_failed.title': 'সাইন ইন ব্যর্থ',
    'toasts.signup_failed.title': 'সাইন আপ ব্যর্থ',
    'toasts.welcome_back': 'পুনরায় স্বাগতম!',
    'toasts.password_too_short.title': 'পাসওয়ার্ড খুব ছোট',
    'toasts.password_too_short.desc': 'কমপক্ষে ৬ অক্ষর হওয়া উচিত।',
    'toasts.password_too_weak.title': 'দুর্বল পাসওয়ার্ড',
    'toasts.password_too_weak.desc': 'কমপক্ষে ৬ অক্ষর ব্যবহার করুন।',
    'toasts.invalid_email.title': 'অবৈধ ইমেইল',
    'toasts.invalid_email.desc': 'একটি বৈধ ইমেইল দিন।',
    'toasts.unexpected_error.title': 'অপ্রত্যাশিত ত্রুটি ঘটেছে',
    'toasts.unexpected_error.desc': 'পরে আবার চেষ্টা করুন।',
    'toasts.account_exists.title': 'অ্যাকাউন্ট ইতিমধ্যে আছে',
    'toasts.account_exists.desc': 'এই ইমেইল দিয়ে একটি অ্যাকাউন্ট ইতিমধ্যে আছে। দয়া করে সাইন ইন করুন।',
    'toasts.account_created.title': 'অ্যাকাউন্ট তৈরি হয়েছে!',
    'toasts.account_created.desc': 'ইমেইল দেখুন এবং নিশ্চিতকরণ লিংকে ক্লিক করুন।',
    'toasts.reset_failed.title': 'রিসেট ইমেইল পাঠানো যায়নি',
    'toasts.reset_sent.title': 'পাসওয়ার্ড রিসেট ইমেইল পাঠানো হয়েছে',
    'toasts.reset_sent.desc': 'ইনবক্স দেখুন এবং লিংক অনুসরণ করুন।',
    'toasts.weak_password.title': 'দুর্বল পাসওয়ার্ড',
    'toasts.weak_password.desc': 'কমপক্ষে ৬ অক্ষর ব্যবহার করুন।',
    'toasts.passwords_no_match': 'পাসওয়ার্ড মেলে না',
    'toasts.update_failed.title': 'পাসওয়ার্ড আপডেট ব্যর্থ',
    'toasts.update_success': 'পাসওয়ার্ড সফলভাবে পরিবর্তন হয়েছে',

    'banners.account_exists.title': 'অ্যাকাউন্ট ইতিমধ্যে আছে',
    'banners.success.title': 'সফল',

    'messages.account_exists_detail': 'এই ইমেইল দিয়ে একটি অ্যাকাউন্ট ইতিমধ্যে আছে। দয়া করে সাইন ইন করুন।',
    'messages.check_email_detail': 'ইমেইল দেখুন এবং নিশ্চিতকরণ লিংকে ক্লিক করুন।',

    'toasts.profile.load_failed': 'প্রোফাইল লোড করতে ব্যর্থ',
    'toasts.profile.create_failed': 'প্রোফাইল তৈরি করতে ব্যর্থ',
    'toasts.profile.save_failed': 'প্রোফাইল সংরক্ষণ ব্যর্থ',
    'toasts.profile.save_success': 'প্রোফাইল সফলভাবে আপডেট হয়েছে',
    'toasts.spotify.connect_failed.title': 'Spotify কানেকশন শুরু করতে ব্যর্থ',
    'toasts.spotify.connect_failed.desc': 'আপনার কনফিগারেশন পরীক্ষা করুন���',
    'toasts.spotify.disconnect_failed': 'Spotify ডিসকানেক্ট ব্যর্থ',
    'toasts.spotify.disconnect_success': 'Spotify সফলভাবে ডিসকানেক্ট হয়েছে',
  },
};

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [lang, setLangState] = useState<LangCode>(detectDefaultLang());

  useEffect(() => {
    try {
      localStorage.setItem('lang', lang);
    } catch {}
  }, [lang]);

  const setLang = useCallback((l: LangCode) => {
    setLangState(l);
  }, []);

  const t = useCallback((key: string, vars?: Record<string, string | number>) => {
    const dict = resources[lang] || resources.en;
    const val = dict[key] ?? resources.en[key] ?? key;
    return interpolate(val, vars);
  }, [lang]);

  const value = useMemo<I18nContextType>(() => ({ lang, setLang, t, resources }), [lang, setLang]);

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
};

export const useI18n = () => {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
};
